{"ast":null,"code":"import _objectSpread from\"C:/Users/Faisal/Desktop/fullstack Projects/Diary Software/my-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/Faisal/Desktop/fullstack Projects/Diary Software/my-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Faisal/Desktop/fullstack Projects/Diary Software/my-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"C:/Users/Faisal/Desktop/fullstack Projects/Diary Software/my-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Faisal\\\\Desktop\\\\fullstack Projects\\\\Diary Software\\\\my-frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from'react';import'./Employee.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Employee=function Employee(){var _English,_Urdu;var getTodayDate=function getTodayDate(){var today=new Date();var year=today.getFullYear();var month=String(today.getMonth()+1).padStart(2,'0');// Pad single digit months with a leading 0\nvar day=String(today.getDate()).padStart(2,'0');// Pad single digit days with a leading 0\nreturn\"\".concat(year,\"-\").concat(month,\"-\").concat(day);// Format must be YYYY-MM-DD\n};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFormVisible=_useState2[0],setIsFormVisible=_useState2[1];var _useState3=useState({date:getTodayDate(),consumerName:'',baqaya:''}),_useState4=_slicedToArray(_useState3,2),consumerData=_useState4[0],setConsumerData=_useState4[1];var _useState5=useState({date:'',consumerName:'',baqaya:''}),_useState6=_slicedToArray(_useState5,2),errorMessages=_useState6[0],setErrorMessages=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isDataSaved=_useState8[0],setIsDataSaved=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isUpdateMode=_useState10[0],setIsUpdateMode=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isAddBaqayaVisible=_useState12[0],setIsAddBaqayaVisible=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),baqayaToAdd=_useState14[0],setBaqayaToAdd=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),baqayaError=_useState16[0],setBaqayaError=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),consumers=_useState18[0],setConsumers=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),selectedConsumerId=_useState20[0],setSelectedConsumerId=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),isConfirmModalVisible=_useState22[0],setIsConfirmModalVisible=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),isAlertVisible=_useState24[0],setIsAlertVisible=_useState24[1];var _useState25=useState(''),_useState26=_slicedToArray(_useState25,2),alertMessage=_useState26[0],setAlertMessage=_useState26[1];var _useState27=useState(null),_useState28=_slicedToArray(_useState27,2),currentManaging=_useState28[0],setCurrentManaging=_useState28[1];var _useState29=useState({}),_useState30=_slicedToArray(_useState29,2),monthVisibility=_useState30[0],setMonthVisibility=_useState30[1];var _useState31=useState('English'),_useState32=_slicedToArray(_useState31,2),language=_useState32[0],setLanguage=_useState32[1];var _useState33=useState({}),_useState34=_slicedToArray(_useState33,2),monthYearButtonsVisibility=_useState34[0],setMonthYearButtonsVisibility=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),isWasooliVisible=_useState36[0],setIsWasooliVisible=_useState36[1];var _useState37=useState({date:getTodayDate(),source:'',wasooli:''}),_useState38=_slicedToArray(_useState37,2),wasooliData=_useState38[0],setWasooliData=_useState38[1];// Update this state to also include the wasooliId\nvar _useState39=useState({consumerId:null,wasooliId:null,// Add this line\nindex:null}),_useState40=_slicedToArray(_useState39,2),deleteConfirmationData=_useState40[0],setDeleteConfirmationData=_useState40[1];var _useState41=useState(null),_useState42=_slicedToArray(_useState41,2),editingTransaction=_useState42[0],setEditingTransaction=_useState42[1];var _useState43=useState({date:'',source:'',wasooli:''}),_useState44=_slicedToArray(_useState43,2),wasooliErrorMessages=_useState44[0],setWasooliErrorMessages=_useState44[1];var translations={English:(_English={date:'Date',consumerName:'Employee Name',baqaya:'Employee Baqaya',employeekhata:\"Employee Khata\",pleaseEnterDate:'Please enter a date',pleaseEnterConsumerName:'Please enter employee name',pleaseEnterBaqaya:'Please enter employee baqaya amount',save:'Save',Khata:\"Khata\",addEmployee:'Add Employee',manage:'Manage',addBaqaya:'Add Baqaya',update:'Update',toggleVisibility:'Toggle Visibility',hideAll:'Hide All',showAll:'Show All',sourceOfKharcha:'Source',kharcha:'Kharcha',saveKharcha:'Save Kharcha',close:'Close',addMoreEmployeeBaqaya:'Add more Employee Baqaya',confirmAddConsumer:\"Are you sure you want to add a new consumer?\",yes:\"Yes\",no:\"No\",deleteWasooliConfirm:\"Are you sure you want to delete this kharcha?\"},_defineProperty(_English,\"close\",\"Close\"),_defineProperty(_English,\"Show\",\"Show\"),_defineProperty(_English,\"Hide\",\"Hide\"),_defineProperty(_English,\"delete\",\"Delete\"),_defineProperty(_English,\"datee\",\"Please enter a date\"),_defineProperty(_English,\"consumerNamee\",\"Please enter employee name\"),_defineProperty(_English,\"baqayaa\",\"Please enter baqaya amount\"),_defineProperty(_English,\"baqayaNumberr\",\"Baqaya must be a number\"),_defineProperty(_English,\"wasooliAmountt\",\"Please fill up the khatcha amount\"),_defineProperty(_English,\"baqayaerror\",\"Please fill up the baqaya amount\"),_English),Urdu:(_Urdu={date:'تاریخ',consumerName:'ملازم کا نام',baqaya:'ملازم کا باقیہ',consumerKhata:\"صارف خاتہ \",employeekhata:\"خاتہ ملازم \",pleaseEnterDate:'براہ کرم تاریخ درج کریں',pleaseEnterConsumerName:'براہ کرم ملازم کا نام درج کریں',pleaseEnterBaqaya:'براہ کرم ملازم کا باقیہ معلومات درج کریں',save:'محفوظ کریں',delete:\"حذف کریں\",addEmployee:'ملازم شامل کریں',manage:'انتظام کریں',addBaqaya:'باقیہ شامل کریں',update:'اپ ڈیٹ',toggleVisibility:'دکھائیں یا چھپائیں',hideAll:'سب چھپائیں',showAll:'سب دکھائیں',sourceOfKharcha:'خرچے کا ذریعہ',kharcha:'خرچہ',saveKharcha:'خرچہ محفوظ کریں',close:'بند کریں',addMoreEmployeeBaqaya:'مزید ملازم کا باقیہ شامل کریں'},_defineProperty(_Urdu,\"delete\",\"حذف کریں\"),_defineProperty(_Urdu,\"Khata\",\"خاتہ\"),_defineProperty(_Urdu,\"confirmAddConsumer\",\"کیا آپ واقعی نیا صارف شامل کرنا چاہتے ہیں؟\"),_defineProperty(_Urdu,\"yes\",\"جی ہاں\"),_defineProperty(_Urdu,\"no\",\"نہیں\"),_defineProperty(_Urdu,\"Khata\",\"خاتہ\"),_defineProperty(_Urdu,\"Show\",\"دکھائیں\"),_defineProperty(_Urdu,\"Hide\",\"چھپائیں\"),_defineProperty(_Urdu,\"deleteWasooliConfirm\",\"کیا آپ واقعی اس وصولی کو حذف کرنا چاہتے ہیں؟\"),_defineProperty(_Urdu,\"close\",\"بند کریں\"),_defineProperty(_Urdu,\"datee\",\"براہ کرم تاریخ درج کریں\"),_defineProperty(_Urdu,\"consumerNamee\",\"براہ کرم صارف کا نام درج کریں\"),_defineProperty(_Urdu,\"baqayaa\",\"براہ کرم باقیہ مقدار درج کریں\"),_defineProperty(_Urdu,\"baqayaNumberr\",\"باقیہ کو نمبر ہونا چاہئے\"),_defineProperty(_Urdu,\"wasooliAmountt\",\"براہ کرم وصولی کی رقم بھریں\"),_defineProperty(_Urdu,\"wasooliDatee\",\"تاریخ ضروری ہے\"),_defineProperty(_Urdu,\"baqayaerror\",\"برائے مہربانی باقیہ رقم بھریں\"),_Urdu)};var monthTranslations={January:\"جنوری\",February:\"فروری\",March:\"مارچ\",April:\"اپریل\",May:\"مئی\",June:\"جون\",July:\"جولائی\",August:\"اگست\",September:\"ستمبر\",October:\"اکتوبر\",November:\"نومبر\",December:\"دسمبر\"};var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,consumersData,updatedConsumersData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch('http://localhost:3001/employeekhata');case 3:response=_context2.sent;if(response.ok){_context2.next=6;break;}throw new Error(\"HTTP error! status: \".concat(response.status));case 6:_context2.next=8;return response.json();case 8:consumersData=_context2.sent;// Check the fetched data\nconsole.log(\"Fetched consumers data:\",consumersData);_context2.next=12;return Promise.all(consumersData.map(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(consumer){var wasooliResponse,wasooliData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3001/kharchay/\".concat(consumer.idEmployeekhata));case 2:wasooliResponse=_context.sent;if(wasooliResponse.ok){_context.next=6;break;}console.log(\"Failed to fetch wasooli data for consumer ID: \".concat(consumer.idEmployeekhata));return _context.abrupt(\"return\",consumer);case 6:_context.next=8;return wasooliResponse.json();case 8:wasooliData=_context.sent;return _context.abrupt(\"return\",_objectSpread(_objectSpread({},consumer),{},{wasooliTransactions:wasooliData}));case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}()));case 12:updatedConsumersData=_context2.sent;// Check the updated consumers data\nconsole.log(\"Updated consumers data:\",updatedConsumersData);// Update state with the processed and fetched data\nsetConsumers(updatedConsumersData);_context2.next=20;break;case 17:_context2.prev=17;_context2.t0=_context2[\"catch\"](0);console.error('Fetch error:',_context2.t0);case 20:case\"end\":return _context2.stop();}}},_callee2,null,[[0,17]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();},[]);useEffect(function(){console.log(consumers);// Log the state to see if it includes the dates correctly\n},[consumers]);var toggleMonthYearButtonsVisibility=function toggleMonthYearButtonsVisibility(consumerId){setMonthYearButtonsVisibility(function(prevState){var newState=_objectSpread(_objectSpread({},prevState),{},_defineProperty({},consumerId,!prevState[consumerId]));return newState;});};var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;var newValue=value;// If the input is for baqaya, ensure it's handled as a number\nif(name==='baqaya'){newValue=value!==''?parseInt(value,10):0;if(isNaN(newValue)){setErrorMessages(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{baqaya:'Baqaya must be a number'});});return;// Don't set the consumer data if the input is not a number\n}}setConsumerData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,newValue));});// Clear any error messages for this input\nsetErrorMessages(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},_defineProperty({},name,''));});};var handleSaveClick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var date,consumerName,baqaya,idEmployeekhata,errors,endpoint,method,body,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:date=consumerData.date,consumerName=consumerData.consumerName,baqaya=consumerData.baqaya,idEmployeekhata=consumerData.idEmployeekhata;console.log('Data before sending:',{date:date,consumerName:consumerName,baqaya:baqaya,idEmployeekhata:idEmployeekhata});// Debug log\nif(!(!date.trim()||!consumerName.trim()||isNaN(parseInt(baqaya))||parseInt(baqaya)<0)){_context3.next=6;break;}errors=_objectSpread(_objectSpread(_objectSpread({},date.trim()?null:{date:\"Please enter a date\"}),consumerName.trim()?null:{consumerName:\"Please enter consumer name\"}),!isNaN(parseInt(baqaya))&&parseInt(baqaya)>=0?null:{baqaya:\"Please enter a valid non-negative baqaya amount\"});setErrorMessages(errors);return _context3.abrupt(\"return\");case 6:endpoint=idEmployeekhata?\"http://localhost:3001/employeekhata/\".concat(idEmployeekhata):'http://localhost:3001/employeekhata';method=idEmployeekhata?'PUT':'POST';body=JSON.stringify({Date:date,// Ensure this key matches the server's expectation (case-sensitive)\nname:consumerName,baqaya:parseInt(baqaya)});_context3.prev=9;_context3.next=12;return fetch(endpoint,{method:method,headers:{'Content-Type':'application/json'},body:body});case 12:response=_context3.sent;if(response.ok){_context3.next=15;break;}throw new Error(\"HTTP error! status: \".concat(response.status));case 15:_context3.t0=console;_context3.next=18;return response.json();case 18:_context3.t1=_context3.sent;_context3.t0.log.call(_context3.t0,'Update successful',_context3.t1);_context3.next=22;return fetchData();case 22:resetForm();_context3.next=28;break;case 25:_context3.prev=25;_context3.t2=_context3[\"catch\"](9);console.error('Error during fetch:',_context3.t2);case 28:case\"end\":return _context3.stop();}}},_callee3,null,[[9,25]]);}));return function handleSaveClick(){return _ref3.apply(this,arguments);};}();var resetForm=function resetForm(){setConsumerData({date:'',consumerName:'',baqaya:''});setIsFormVisible(false);setErrorMessages({});};var handleCancelClick=function handleCancelClick(){setIsFormVisible(false);setIsUpdateMode(false);};var handleUpdateClick=function handleUpdateClick(id){var consumerToUpdate=consumers.find(function(consumer){return consumer.idEmployeekhata===id;});if(consumerToUpdate){setConsumerData({date:consumerToUpdate.Date||'',consumerName:consumerToUpdate.name||'',baqaya:consumerToUpdate.baqaya||'',idEmployeekhata:consumerToUpdate.idEmployeekhata// Store the id in the state\n});setIsUpdateMode(true);setIsFormVisible(true);}else{console.error(\"No consumer found with ID:\",id);}};var handleAddBaqayaClick=function handleAddBaqayaClick(){setIsAddBaqayaVisible(true);};var handleBaqayaInputChange=function handleBaqayaInputChange(e){var value=e.target.value;setBaqayaToAdd(value);setBaqayaError('');};var handleSaveBaqayaClick=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var newBaqayaAmount,consumerToUpdate,currentBaqaya,updatedBaqaya,response,updatedConsumers;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(baqayaToAdd){_context4.next=3;break;}setBaqayaError('Please fill the Baqaya field');return _context4.abrupt(\"return\");case 3:newBaqayaAmount=parseInt(baqayaToAdd);if(!isNaN(newBaqayaAmount)){_context4.next=7;break;}setBaqayaError('Invalid Baqaya amount');return _context4.abrupt(\"return\");case 7:// Find the consumer to update\nconsumerToUpdate=consumers.find(function(consumer){return consumer.idEmployeekhata===selectedConsumerId;});if(consumerToUpdate){_context4.next=11;break;}console.error(\"Consumer not found\");return _context4.abrupt(\"return\");case 11:// Ensure consumerToUpdate.baqaya is a number\ncurrentBaqaya=parseInt(consumerToUpdate.baqaya)||0;// Calculate updated baqaya\nupdatedBaqaya=currentBaqaya+newBaqayaAmount;// Corrected URL in the fetch request\n_context4.prev=13;_context4.next=16;return fetch(\"http://localhost:3001/employeekhata/\".concat(selectedConsumerId),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({Date:consumerToUpdate.Date,// Make sure to include other fields required by your server\nname:consumerToUpdate.name,baqaya:updatedBaqaya})});case 16:response=_context4.sent;if(response.ok){_context4.next=19;break;}throw new Error(\"HTTP error! status: \".concat(response.status));case 19:// Update local state and UI\nupdatedConsumers=consumers.map(function(consumer){return consumer.idEmployeekhata===selectedConsumerId?_objectSpread(_objectSpread({},consumer),{},{baqaya:updatedBaqaya.toString()}):consumer;});setConsumers(updatedConsumers);setIsDataSaved(true);setBaqayaToAdd('');setIsAddBaqayaVisible(false);setBaqayaError('');fetchData();// Refresh data\n_context4.next=32;break;case 28:_context4.prev=28;_context4.t0=_context4[\"catch\"](13);console.error('Error updating baqaya:',_context4.t0);setBaqayaError('Failed to update baqaya');case 32:case\"end\":return _context4.stop();}}},_callee4,null,[[13,28]]);}));return function handleSaveBaqayaClick(){return _ref4.apply(this,arguments);};}();var handleUpdateWasooliClick=function handleUpdateWasooliClick(consumerId,transactionId){if(!consumerId||!transactionId){console.error('Missing consumer ID or transaction ID');return;}var consumer=consumers.find(function(consumer){return consumer.idEmployeekhata===consumerId;});if(!consumer){console.error('Consumer not found for ID:',consumerId);setIsAlertVisible(true);setAlertMessage(\"Error: Consumer not found\");return;}console.log(\"Consumer found:\",consumer.name);if(!consumer.wasooliTransactions||consumer.wasooliTransactions.length===0){console.error('No transactions found for consumer:',consumer.name);return;}console.log(\"Consumer's Wasooli Transactions:\",consumer.wasooliTransactions);var selectedWasooliCard=consumer.wasooliTransactions.find(function(txn){return txn.idkharchay.toString()===transactionId.toString();});if(!selectedWasooliCard){console.error('Wasooli transaction not found for ID:',transactionId,\"in consumer:\",consumer.name);return;}console.log(\"Selected Wasooli Card:\",selectedWasooliCard);// Update the form data and editing transaction state asynchronously\nsetWasooliData({date:selectedWasooliCard.date,source:selectedWasooliCard.source,wasooli:selectedWasooliCard.Wasooli.toString()});setEditingTransaction({consumerId:consumerId,transactionId:transactionId});setIsWasooliVisible(true);};var handleManageClick=function handleManageClick(consumerId){setSelectedConsumerId(consumerId);setIsWasooliVisible(true);setCurrentManaging(consumerId);// Reset Wasooli form data\nsetWasooliData({date:'',source:'',Wasooli:''});};var handleWasooliInputChange=function handleWasooliInputChange(e){var _e$target2=e.target,name=_e$target2.name,value=_e$target2.value;setWasooliData(_objectSpread(_objectSpread({},wasooliData),{},_defineProperty({},name,value)));setWasooliErrorMessages(_objectSpread(_objectSpread({},wasooliErrorMessages),{},_defineProperty({},name,'')));};var handleConfirmDeletion=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var consumerId,wasooliId,index,deleteResponse,errorData;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:consumerId=deleteConfirmationData.consumerId,wasooliId=deleteConfirmationData.wasooliId,index=deleteConfirmationData.index;if(wasooliId){_context5.next=4;break;}console.error(\"Wasooli ID is missing.\");return _context5.abrupt(\"return\");case 4:_context5.prev=4;_context5.next=7;return fetch(\"http://localhost:3001/kharchay/\".concat(wasooliId),{method:'DELETE'});case 7:deleteResponse=_context5.sent;if(deleteResponse.ok){_context5.next=13;break;}_context5.next=11;return deleteResponse.json();case 11:errorData=_context5.sent;throw new Error(errorData.message||'Failed to delete Wasooli transaction.');case 13:console.log(\"Wasooli transaction deleted successfully.\");// Re-fetch updated consumer data to refresh local state\n_context5.next=16;return fetchData();case 16:console.log(\"Consumer data refreshed after Wasooli deletion.\");// Reset the delete confirmation data and close the modal\nsetDeleteConfirmationData({consumerId:null,wasooliId:null,index:null});setIsConfirmModalVisible(false);_context5.next=24;break;case 21:_context5.prev=21;_context5.t0=_context5[\"catch\"](4);console.error('Error during Wasooli deletion:',_context5.t0);case 24:case\"end\":return _context5.stop();}}},_callee5,null,[[4,21]]);}));return function handleConfirmDeletion(){return _ref5.apply(this,arguments);};}();var handleCancelDeletion=function handleCancelDeletion(){setIsConfirmModalVisible(false);// Hide the modal\n};var handleDeleteWasooliClick=function handleDeleteWasooliClick(consumerId,wasooliId,index){// Log the parameters to ensure they are being passed correctly\nconsole.log(\"Preparing to delete Wasooli with ID: \".concat(wasooliId,\", for Consumer ID: \").concat(consumerId,\", at Index: \").concat(index));// Set the deleteConfirmationData with the correct values\nsetDeleteConfirmationData({consumerId:consumerId,wasooliId:wasooliId,index:index});setIsConfirmModalVisible(true);};var AlertModal=function AlertModal(_ref6){var isOpen=_ref6.isOpen,message=_ref6.message,onClose=_ref6.onClose;if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"alert-modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert-modal\",children:[/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,children:\"OK\"})]})});};var ConfirmationModal=function ConfirmationModal(_ref7){var onConfirm=_ref7.onConfirm,onCancel=_ref7.onCancel;return/*#__PURE__*/_jsx(\"div\",{className:\"confirmation-modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-modal\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Are you sure you want to delete this kharcha?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"yes-button\",onClick:onConfirm,children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"no-button\",onClick:onCancel,children:\"No\"})]})});};var handleSaveWasooliClick=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var wasooliAmount,payload,endpoint,method,response,errorData;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;if(wasooliData.date){_context6.next=3;break;}throw new Error(\"Date is required\");case 3:if(wasooliData.source){_context6.next=5;break;}throw new Error(\"source is required\");case 5:wasooliAmount=parseInt(wasooliData.wasooli);if(!(isNaN(wasooliAmount)||wasooliAmount<=0)){_context6.next=8;break;}throw new Error(\"Invalid Kharcha amount\");case 8:payload={date:wasooliData.date,source:wasooliData.source,Wasooli:wasooliAmount};endpoint='http://localhost:3001/kharchay';method='POST';// If we're editing an existing transaction, adjust the endpoint and method.\n// Otherwise, ensure the consumer ID is included in the payload for new transactions.\nif(!(editingTransaction&&editingTransaction.transactionId)){_context6.next=16;break;}endpoint+=\"/\".concat(editingTransaction.transactionId);method='PUT';_context6.next=19;break;case 16:if(selectedConsumerId){_context6.next=18;break;}throw new Error(\"Consumer ID is missing for new Wasooli transaction\");case 18:payload=_objectSpread(_objectSpread({},payload),{},{consumerId:selectedConsumerId});case 19:_context6.next=21;return fetch(endpoint,{method:method,headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});case 21:response=_context6.sent;if(response.ok){_context6.next=27;break;}_context6.next=25;return response.json();case 25:errorData=_context6.sent;throw new Error(errorData.message||\"Failed to save Wasooli transaction\");case 27:_context6.t0=console;_context6.next=30;return response.json();case 30:_context6.t1=_context6.sent;_context6.t0.log.call(_context6.t0,\"Wasooli transaction saved:\",_context6.t1);setIsWasooliVisible(false);setWasooliData({date:'',source:'',wasooli:''});setEditingTransaction(null);_context6.next=37;return fetchData();case 37:_context6.next=44;break;case 39:_context6.prev=39;_context6.t2=_context6[\"catch\"](0);console.error(\"Error saving Wasooli transaction:\",_context6.t2);setIsAlertVisible(true);setAlertMessage(_context6.t2.toString());case 44:case\"end\":return _context6.stop();}}},_callee6,null,[[0,39]]);}));return function handleSaveWasooliClick(){return _ref8.apply(this,arguments);};}();var groupTransactionsByDate=function groupTransactionsByDate(transactions){var grouped={};transactions.forEach(function(transaction){var yearMonth=new Date(transaction.date).toISOString().substring(0,7);// e.g., \"2024-01\"\nif(!grouped[yearMonth]){grouped[yearMonth]={transactions:[],isVisible:false};}grouped[yearMonth].transactions.push(transaction);});return grouped;};var toggleMonthVisibility=function toggleMonthVisibility(consumerId,monthYear){setMonthVisibility(function(prevVisibility){var _prevVisibility$consu,_prevVisibility$consu2;return _objectSpread(_objectSpread({},prevVisibility),{},_defineProperty({},consumerId,_objectSpread(_objectSpread({},prevVisibility[consumerId]),{},_defineProperty({},monthYear,!((_prevVisibility$consu=(_prevVisibility$consu2=prevVisibility[consumerId])===null||_prevVisibility$consu2===void 0?void 0:_prevVisibility$consu2[monthYear])!==null&&_prevVisibility$consu!==void 0?_prevVisibility$consu:false)))));});};var renderWasooliTransactions=function renderWasooliTransactions(consumer){// Group Wasooli transactions by month and year\nvar transactionsByMonth=consumer.wasooliTransactions.reduce(function(acc,transaction){var monthYear=new Date(transaction.date).toLocaleString('default',{month:'long',year:'numeric'});if(!acc[monthYear]){acc[monthYear]=[];}acc[monthYear].push(transaction);return acc;},{});return Object.entries(transactionsByMonth).map(function(_ref9){var _monthVisibility$cons,_monthVisibility$cons2;var _ref10=_slicedToArray(_ref9,2),monthYear=_ref10[0],transactions=_ref10[1];var isButtonVisible=monthYearButtonsVisibility[consumer.idEmployeekhata];var isDataVisible=(_monthVisibility$cons=(_monthVisibility$cons2=monthVisibility[consumer.idEmployeekhata])===null||_monthVisibility$cons2===void 0?void 0:_monthVisibility$cons2[monthYear])!==null&&_monthVisibility$cons!==void 0?_monthVisibility$cons:false;return/*#__PURE__*/_jsxs(\"div\",{children:[isButtonVisible&&/*#__PURE__*/_jsxs(\"button\",{className:\"toggle-visibility-button\",onClick:function onClick(){return toggleMonthVisibility(consumer.idEmployeekhata,monthYear);},children:[isDataVisible?translations[language].Hide:translations[language].Show,\" \",monthYear]}),isDataVisible&&transactions.map(function(transaction,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"wasooli-card-horizontal\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",translations[language].date,\"  \",transaction.date]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"  \",translations[language].sourceOfKharcha,\" \",transaction.source]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"   \",translations[language].kharcha,\"  \",transaction.Wasooli]}),/*#__PURE__*/_jsx(\"button\",{className:\"updatee-button\",onClick:function onClick(){return handleUpdateWasooliClick(consumer.idEmployeekhata,transaction.idkharchay);},children:translations[language].update}),/*#__PURE__*/_jsx(\"button\",{className:\"deletee-button\",onClick:function onClick(){return handleDeleteWasooliClick(consumer.idEmployeekhata,transaction.idkharchay);},children:translations[language].delete})]},index);})]},monthYear);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"consumer-khata-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"header\",children:[\" \",translations[language].employeekhata]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setLanguage(function(lang){return lang==='English'?'Urdu':'English';});},className:\"language-toggle\",children:language==='English'?'اردو':'English'}),isConfirmModalVisible&&/*#__PURE__*/_jsx(ConfirmationModal,{onConfirm:handleConfirmDeletion,onCancel:handleCancelDeletion}),/*#__PURE__*/_jsx(AlertModal,{isOpen:isAlertVisible,message:alertMessage,onClose:function onClose(){return setIsAlertVisible(false);}}),consumers.map(function(consumer){return/*#__PURE__*/_jsxs(\"div\",{className:\"consumer-card\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"consumer-name\",children:[consumer.name,\" \",translations[language].Khata]}),/*#__PURE__*/_jsxs(\"p\",{children:[translations[language].date,\" : \",consumer.Date?consumer.Date:'No date available']}),/*#__PURE__*/_jsxs(\"p\",{children:[translations[language].consumerName,\" : \",consumer.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",translations[language].baqaya,\" : \",consumer.baqaya]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"manage-buttonn\",onClick:function onClick(){return handleManageClick(consumer.idEmployeekhata);},children:translations[language].manage}),/*#__PURE__*/_jsx(\"button\",{className:\"add-baqaya-buttonn\",onClick:function onClick(){setIsAddBaqayaVisible(true);setSelectedConsumerId(consumer.idEmployeekhata);// Ensure this is set when opening the Baqaya add form\n},children:translations[language].addBaqaya}),/*#__PURE__*/_jsx(\"button\",{className:\"update-buttonn\",onClick:function onClick(){return handleUpdateClick(consumer.idEmployeekhata);},children:translations[language].update}),/*#__PURE__*/_jsx(\"button\",{className:\"global-toggle-buttonnn\",onClick:function onClick(){return toggleMonthYearButtonsVisibility(consumer.idEmployeekhata);},children:monthYearButtonsVisibility[consumer.idEmployeekhata]?translations[language].hideAll:translations[language].showAll})]}),renderWasooliTransactions(consumer),currentManaging===consumer.idEmployeekhata&&isWasooliVisible&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-container wasooli-card\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\" \",translations[language].kharcha]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:function onClick(){return setIsWasooliVisible(false);},children:\"\\u2715\"}),/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:wasooliErrorMessages.date}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",placeholder:translations[language].date,value:wasooliData.date||'',onChange:handleWasooliInputChange}),/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:wasooliErrorMessages.source}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"source\",placeholder:translations[language].sourceOfKharcha,value:wasooliData.source||'',onChange:handleWasooliInputChange}),/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:wasooliErrorMessages.wasooli}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"wasooli\",placeholder:translations[language].kharcha,value:wasooliData.wasooli,onChange:handleWasooliInputChange}),/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:function onClick(e){e.preventDefault();handleSaveWasooliClick();},children:translations[language].saveKharcha})]}),selectedConsumerId===consumer.idEmployeekhata&&isAddBaqayaVisible&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-baqaya-card\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:function onClick(){return setIsAddBaqayaVisible(false);},children:\"\\u2715\"}),/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:baqayaError}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:translations[language].addMoreEmployeeBaqaya,value:baqayaToAdd,onChange:handleBaqayaInputChange}),/*#__PURE__*/_jsx(\"button\",{className:\"save-baqaya-button\",onClick:handleSaveBaqayaClick,children:translations[language].save})]})]},consumer.idEmployeekhata);}),isFormVisible&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:handleCancelClick,children:\"\\u2715\"}),/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errorMessages.date}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",placeholder:\"Enter Date\",value:consumerData.date||'',onChange:handleInputChange}),/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errorMessages.consumerName}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"consumerName\",placeholder:\"Employee Name\",value:consumerData.consumerName,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errorMessages.baqaya}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"baqaya\",placeholder:\"Employee Baqaya\",value:consumerData.baqaya,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:handleSaveClick,children:translations[language].save})]}),/*#__PURE__*/_jsx(\"button\",{className:\"add-button\",onClick:function onClick(){return setIsFormVisible(true);},children:translations[language].addEmployee})]});};export default Employee;","map":{"version":3,"sources":["C:/Users/Faisal/Desktop/fullstack Projects/Diary Software/my-frontend/src/Employee.jsx"],"names":["React","useState","useEffect","Employee","getTodayDate","today","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","isFormVisible","setIsFormVisible","date","consumerName","baqaya","consumerData","setConsumerData","errorMessages","setErrorMessages","isDataSaved","setIsDataSaved","isUpdateMode","setIsUpdateMode","isAddBaqayaVisible","setIsAddBaqayaVisible","baqayaToAdd","setBaqayaToAdd","baqayaError","setBaqayaError","consumers","setConsumers","selectedConsumerId","setSelectedConsumerId","isConfirmModalVisible","setIsConfirmModalVisible","isAlertVisible","setIsAlertVisible","alertMessage","setAlertMessage","currentManaging","setCurrentManaging","monthVisibility","setMonthVisibility","language","setLanguage","monthYearButtonsVisibility","setMonthYearButtonsVisibility","isWasooliVisible","setIsWasooliVisible","source","wasooli","wasooliData","setWasooliData","consumerId","wasooliId","index","deleteConfirmationData","setDeleteConfirmationData","editingTransaction","setEditingTransaction","wasooliErrorMessages","setWasooliErrorMessages","translations","English","employeekhata","pleaseEnterDate","pleaseEnterConsumerName","pleaseEnterBaqaya","save","Khata","addEmployee","manage","addBaqaya","update","toggleVisibility","hideAll","showAll","sourceOfKharcha","kharcha","saveKharcha","close","addMoreEmployeeBaqaya","confirmAddConsumer","yes","no","deleteWasooliConfirm","Urdu","consumerKhata","delete","monthTranslations","January","February","March","April","May","June","July","August","September","October","November","December","fetchData","fetch","response","ok","Error","status","json","consumersData","console","log","Promise","all","map","consumer","idEmployeekhata","wasooliResponse","wasooliTransactions","updatedConsumersData","error","toggleMonthYearButtonsVisibility","prevState","newState","handleInputChange","e","target","name","value","newValue","parseInt","isNaN","prevErrors","prevData","handleSaveClick","trim","errors","endpoint","method","body","JSON","stringify","headers","resetForm","handleCancelClick","handleUpdateClick","id","consumerToUpdate","find","handleAddBaqayaClick","handleBaqayaInputChange","handleSaveBaqayaClick","newBaqayaAmount","currentBaqaya","updatedBaqaya","updatedConsumers","toString","handleUpdateWasooliClick","transactionId","length","selectedWasooliCard","txn","idkharchay","Wasooli","handleManageClick","handleWasooliInputChange","handleConfirmDeletion","deleteResponse","errorData","message","handleCancelDeletion","handleDeleteWasooliClick","AlertModal","isOpen","onClose","ConfirmationModal","onConfirm","onCancel","handleSaveWasooliClick","wasooliAmount","payload","groupTransactionsByDate","transactions","grouped","forEach","transaction","yearMonth","toISOString","substring","isVisible","push","toggleMonthVisibility","monthYear","prevVisibility","renderWasooliTransactions","transactionsByMonth","reduce","acc","toLocaleString","Object","entries","isButtonVisible","isDataVisible","Hide","Show","lang","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Employee.css';\r\n\r\nconst Employee = () => {\r\n\r\n  const getTodayDate = () => {\r\n    const today = new Date();\r\n    const year = today.getFullYear();\r\n    const month = String(today.getMonth() + 1).padStart(2, '0'); // Pad single digit months with a leading 0\r\n    const day = String(today.getDate()).padStart(2, '0'); // Pad single digit days with a leading 0\r\n    return `${year}-${month}-${day}`; // Format must be YYYY-MM-DD\r\n  };\r\n\r\n\r\n  const [isFormVisible, setIsFormVisible] = useState(false);\r\n  const [consumerData, setConsumerData] = useState({\r\n    date: getTodayDate(),\r\n    consumerName: '',\r\n    baqaya: '',\r\n  });\r\n  const [errorMessages, setErrorMessages] = useState({\r\n    date: '',\r\n    consumerName: '',\r\n    baqaya: '',\r\n  });\r\n  const [isDataSaved, setIsDataSaved] = useState(false);\r\n  const [isUpdateMode, setIsUpdateMode] = useState(false);\r\n  const [isAddBaqayaVisible, setIsAddBaqayaVisible] = useState(false);\r\n  const [baqayaToAdd, setBaqayaToAdd] = useState('');\r\n  const [baqayaError, setBaqayaError] = useState('');\r\n  const [consumers, setConsumers] = useState([]);\r\n  const [selectedConsumerId, setSelectedConsumerId] = useState(null);\r\n  const [isConfirmModalVisible, setIsConfirmModalVisible] = useState(false);\r\n  const [isAlertVisible, setIsAlertVisible] = useState(false);\r\n  const [alertMessage, setAlertMessage] = useState('');\r\n  const [currentManaging, setCurrentManaging] = useState(null);\r\n  const [monthVisibility, setMonthVisibility] = useState({})\r\n  const [language, setLanguage] = useState('English');\r\n  const [monthYearButtonsVisibility, setMonthYearButtonsVisibility] = useState({});\r\n  const [isWasooliVisible, setIsWasooliVisible] = useState(false);\r\n  const [wasooliData, setWasooliData] = useState({\r\n    date: getTodayDate(),\r\n    source: '',\r\n    wasooli: '',\r\n  });\r\n  // Update this state to also include the wasooliId\r\n  const [deleteConfirmationData, setDeleteConfirmationData] = useState({\r\n    consumerId: null,\r\n    wasooliId: null, // Add this line\r\n    index: null,\r\n  });\r\n  const [editingTransaction, setEditingTransaction] = useState(null);\r\n\r\n  const [wasooliErrorMessages, setWasooliErrorMessages] = useState({\r\n    date: '',\r\n    source: '',\r\n    wasooli: '',\r\n  });\r\n\r\n  const translations = {\r\n    English: {\r\n      date: 'Date',\r\n      consumerName: 'Employee Name',\r\n      baqaya: 'Employee Baqaya',\r\n      employeekhata: \"Employee Khata\",\r\n      pleaseEnterDate: 'Please enter a date',\r\n      pleaseEnterConsumerName: 'Please enter employee name',\r\n      pleaseEnterBaqaya: 'Please enter employee baqaya amount',\r\n      save: 'Save',\r\n      Khata: \"Khata\",\r\n      addEmployee: 'Add Employee',\r\n      manage: 'Manage',\r\n      addBaqaya: 'Add Baqaya',\r\n      update: 'Update',\r\n      toggleVisibility: 'Toggle Visibility',\r\n      hideAll: 'Hide All',\r\n      showAll: 'Show All',\r\n      sourceOfKharcha: 'Source',\r\n      kharcha: 'Kharcha',\r\n      saveKharcha: 'Save Kharcha',\r\n      close: 'Close',\r\n      addMoreEmployeeBaqaya: 'Add more Employee Baqaya',\r\n      confirmAddConsumer: \"Are you sure you want to add a new consumer?\",\r\n      yes: \"Yes\",\r\n      no: \"No\",\r\n      deleteWasooliConfirm: \"Are you sure you want to delete this kharcha?\",\r\n      close: \"Close\",\r\n      Show: \"Show\",\r\n      Hide: \"Hide\",\r\n      delete: \"Delete\",\r\n      datee: \"Please enter a date\",\r\n      consumerNamee: \"Please enter employee name\",\r\n      baqayaa: \"Please enter baqaya amount\",\r\n      baqayaNumberr: \"Baqaya must be a number\",\r\n      wasooliAmountt: \"Please fill up the khatcha amount\",\r\n      baqayaerror: \"Please fill up the baqaya amount\",\r\n      \r\n    },\r\n    Urdu: {\r\n      date: 'تاریخ',\r\n      consumerName: 'ملازم کا نام',\r\n      baqaya: 'ملازم کا باقیہ',\r\n      consumerKhata: \"صارف خاتہ \",\r\n      employeekhata: \"خاتہ ملازم \",\r\n      pleaseEnterDate: 'براہ کرم تاریخ درج کریں',\r\n      pleaseEnterConsumerName: 'براہ کرم ملازم کا نام درج کریں',\r\n      pleaseEnterBaqaya: 'براہ کرم ملازم کا باقیہ معلومات درج کریں',\r\n      save: 'محفوظ کریں',\r\n      delete: \"حذف کریں\",\r\n      addEmployee: 'ملازم شامل کریں',\r\n      manage: 'انتظام کریں',\r\n      addBaqaya: 'باقیہ شامل کریں',\r\n      update: 'اپ ڈیٹ',\r\n      toggleVisibility: 'دکھائیں یا چھپائیں',\r\n      hideAll: 'سب چھپائیں',\r\n      showAll: 'سب دکھائیں',\r\n      sourceOfKharcha: 'خرچے کا ذریعہ',\r\n      kharcha: 'خرچہ',\r\n      saveKharcha: 'خرچہ محفوظ کریں',\r\n      close: 'بند کریں',\r\n      addMoreEmployeeBaqaya: 'مزید ملازم کا باقیہ شامل کریں',\r\n      delete: \"حذف کریں\",\r\n      Khata: \"خاتہ\",\r\n      confirmAddConsumer: \"کیا آپ واقعی نیا صارف شامل کرنا چاہتے ہیں؟\",\r\n      yes: \"جی ہاں\",\r\n      no: \"نہیں\",\r\n      Khata: \"خاتہ\",\r\n      Show: \"دکھائیں\",\r\n      Hide: \"چھپائیں\",\r\n      deleteWasooliConfirm: \"کیا آپ واقعی اس وصولی کو حذف کرنا چاہتے ہیں؟\",\r\n      close: \"بند کریں\",\r\n      datee: \"براہ کرم تاریخ درج کریں\",\r\n      consumerNamee: \"براہ کرم صارف کا نام درج کریں\",\r\n      baqayaa: \"براہ کرم باقیہ مقدار درج کریں\",\r\n      baqayaNumberr: \"باقیہ کو نمبر ہونا چاہئے\",\r\n      wasooliAmountt: \"براہ کرم وصولی کی رقم بھریں\",\r\n      wasooliDatee: \"تاریخ ضروری ہے\",\r\n      baqayaerror: \"برائے مہربانی باقیہ رقم بھریں\",\r\n    }\r\n\r\n  };\r\n  const monthTranslations = {\r\n    January: \"جنوری\",\r\n    February: \"فروری\",\r\n    March: \"مارچ\",\r\n    April: \"اپریل\",\r\n    May: \"مئی\",\r\n    June: \"جون\",\r\n    July: \"جولائی\",\r\n    August: \"اگست\",\r\n    September: \"ستمبر\",\r\n    October: \"اکتوبر\",\r\n    November: \"نومبر\",\r\n    December: \"دسمبر\",\r\n  };\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:3001/employeekhata');\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      const consumersData = await response.json();\r\n\r\n      // Check the fetched data\r\n      console.log(\"Fetched consumers data:\", consumersData);\r\n\r\n      const updatedConsumersData = await Promise.all(consumersData.map(async (consumer) => {\r\n        const wasooliResponse = await fetch(`http://localhost:3001/kharchay/${consumer.idEmployeekhata}`);\r\n        if (!wasooliResponse.ok) {\r\n          console.log(`Failed to fetch wasooli data for consumer ID: ${consumer.idEmployeekhata}`);\r\n          return consumer; // Return the consumer without wasooli data if fetch fails\r\n        }\r\n        const wasooliData = await wasooliResponse.json();\r\n        return { ...consumer, wasooliTransactions: wasooliData };\r\n      }));\r\n\r\n      // Check the updated consumers data\r\n      console.log(\"Updated consumers data:\", updatedConsumersData);\r\n\r\n      // Update state with the processed and fetched data\r\n      setConsumers(updatedConsumersData);\r\n    } catch (error) {\r\n      console.error('Fetch error:', error);\r\n    }\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(consumers); // Log the state to see if it includes the dates correctly\r\n  }, [consumers]);\r\n\r\n  const toggleMonthYearButtonsVisibility = (consumerId) => {\r\n\r\n    setMonthYearButtonsVisibility(prevState => {\r\n      const newState = {\r\n        ...prevState,\r\n        [consumerId]: !prevState[consumerId],\r\n      };\r\n\r\n      return newState;\r\n    });\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    let newValue = value;\r\n\r\n    // If the input is for baqaya, ensure it's handled as a number\r\n    if (name === 'baqaya') {\r\n      newValue = value !== '' ? parseInt(value, 10) : 0;\r\n      if (isNaN(newValue)) {\r\n        setErrorMessages((prevErrors) => ({\r\n          ...prevErrors,\r\n          baqaya: 'Baqaya must be a number',\r\n        }));\r\n        return; // Don't set the consumer data if the input is not a number\r\n      }\r\n    }\r\n\r\n    setConsumerData((prevData) => ({\r\n      ...prevData,\r\n      [name]: newValue,\r\n    }));\r\n\r\n    // Clear any error messages for this input\r\n    setErrorMessages((prevErrors) => ({\r\n      ...prevErrors,\r\n      [name]: '',\r\n    }));\r\n  };\r\n\r\n  const handleSaveClick = async () => {\r\n    const { date, consumerName, baqaya, idEmployeekhata } = consumerData;\r\n    console.log('Data before sending:', { date, consumerName, baqaya, idEmployeekhata }); // Debug log\r\n\r\n    if (!date.trim() || !consumerName.trim() || isNaN(parseInt(baqaya)) || parseInt(baqaya) < 0) {\r\n      let errors = {\r\n        ...(date.trim() ? null : { date: \"Please enter a date\" }),\r\n        ...(consumerName.trim() ? null : { consumerName: \"Please enter consumer name\" }),\r\n        ...(!isNaN(parseInt(baqaya)) && parseInt(baqaya) >= 0 ? null : { baqaya: \"Please enter a valid non-negative baqaya amount\" }),\r\n      };\r\n      setErrorMessages(errors);\r\n      return;\r\n    }\r\n\r\n    const endpoint = idEmployeekhata ? `http://localhost:3001/employeekhata/${idEmployeekhata}` : 'http://localhost:3001/employeekhata';\r\n    const method = idEmployeekhata ? 'PUT' : 'POST';\r\n    const body = JSON.stringify({\r\n      Date: date,  // Ensure this key matches the server's expectation (case-sensitive)\r\n      name: consumerName,\r\n      baqaya: parseInt(baqaya),\r\n    });\r\n\r\n    try {\r\n      const response = await fetch(endpoint, {\r\n        method,\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: body,\r\n      });\r\n\r\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n      console.log('Update successful', await response.json()); // Debug success\r\n      await fetchData();\r\n      resetForm();\r\n    } catch (error) {\r\n      console.error('Error during fetch:', error);\r\n    }\r\n};\r\n\r\n\r\n  const resetForm = () => {\r\n    setConsumerData({\r\n      date: '',\r\n      consumerName: '',\r\n      baqaya: '',\r\n    });\r\n    setIsFormVisible(false);\r\n    setErrorMessages({});\r\n  };\r\n\r\n  const handleCancelClick = () => {\r\n    setIsFormVisible(false);\r\n    setIsUpdateMode(false);\r\n  };\r\n\r\n  const handleUpdateClick = (id) => {\r\n    const consumerToUpdate = consumers.find(consumer => consumer.idEmployeekhata === id);\r\n    if (consumerToUpdate) {\r\n      setConsumerData({\r\n        date: consumerToUpdate.Date || '',\r\n        consumerName: consumerToUpdate.name || '',\r\n        baqaya: consumerToUpdate.baqaya || '',\r\n        idEmployeekhata: consumerToUpdate.idEmployeekhata, // Store the id in the state\r\n      });\r\n      setIsUpdateMode(true);\r\n      setIsFormVisible(true);\r\n    } else {\r\n      console.error(\"No consumer found with ID:\", id);\r\n    }\r\n  };\r\n\r\n  const handleAddBaqayaClick = () => {\r\n    setIsAddBaqayaVisible(true);\r\n  };\r\n\r\n  const handleBaqayaInputChange = (e) => {\r\n    const { value } = e.target;\r\n    setBaqayaToAdd(value);\r\n    setBaqayaError('');\r\n  };\r\n\r\n  const handleSaveBaqayaClick = async () => {\r\n    if (!baqayaToAdd) {\r\n      setBaqayaError('Please fill the Baqaya field');\r\n      return;\r\n    }\r\n    const newBaqayaAmount = parseInt(baqayaToAdd);\r\n    if (isNaN(newBaqayaAmount)) {\r\n      setBaqayaError('Invalid Baqaya amount');\r\n      return;\r\n    }\r\n\r\n    // Find the consumer to update\r\n    const consumerToUpdate = consumers.find(consumer => consumer.idEmployeekhata === selectedConsumerId);\r\n    if (!consumerToUpdate) {\r\n      console.error(\"Consumer not found\");\r\n      return;\r\n    }\r\n\r\n    // Ensure consumerToUpdate.baqaya is a number\r\n    const currentBaqaya = parseInt(consumerToUpdate.baqaya) || 0;\r\n\r\n    // Calculate updated baqaya\r\n    const updatedBaqaya = currentBaqaya + newBaqayaAmount;\r\n\r\n    // Corrected URL in the fetch request\r\n    try {\r\n      const response = await fetch(`http://localhost:3001/employeekhata/${selectedConsumerId}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          Date: consumerToUpdate.Date, // Make sure to include other fields required by your server\r\n          name: consumerToUpdate.name,\r\n          baqaya: updatedBaqaya,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      // Update local state and UI\r\n      const updatedConsumers = consumers.map(consumer =>\r\n        consumer.idEmployeekhata === selectedConsumerId ? {\r\n          ...consumer,\r\n          baqaya: updatedBaqaya.toString(),\r\n        } : consumer\r\n      );\r\n\r\n      setConsumers(updatedConsumers);\r\n      setIsDataSaved(true);\r\n      setBaqayaToAdd('');\r\n      setIsAddBaqayaVisible(false);\r\n      setBaqayaError('');\r\n      fetchData(); // Refresh data\r\n    } catch (error) {\r\n      console.error('Error updating baqaya:', error);\r\n      setBaqayaError('Failed to update baqaya');\r\n    }\r\n  };\r\n\r\n  const handleUpdateWasooliClick = (consumerId, transactionId) => {\r\n    if (!consumerId || !transactionId) {\r\n      console.error('Missing consumer ID or transaction ID');\r\n      return;\r\n    }\r\n\r\n    const consumer = consumers.find(consumer => consumer.idEmployeekhata === consumerId);\r\n    if (!consumer) {\r\n      console.error('Consumer not found for ID:', consumerId);\r\n      setIsAlertVisible(true);\r\n      setAlertMessage(\"Error: Consumer not found\");\r\n      return;\r\n    }\r\n    console.log(\"Consumer found:\", consumer.name);\r\n\r\n    if (!consumer.wasooliTransactions || consumer.wasooliTransactions.length === 0) {\r\n      console.error('No transactions found for consumer:', consumer.name);\r\n      return;\r\n    }\r\n\r\n    console.log(\"Consumer's Wasooli Transactions:\", consumer.wasooliTransactions);\r\n\r\n    const selectedWasooliCard = consumer.wasooliTransactions.find(txn => txn.idkharchay.toString() === transactionId.toString());\r\n    if (!selectedWasooliCard) {\r\n      console.error('Wasooli transaction not found for ID:', transactionId, \"in consumer:\", consumer.name);\r\n      return;\r\n    }\r\n    console.log(\"Selected Wasooli Card:\", selectedWasooliCard);\r\n\r\n    // Update the form data and editing transaction state asynchronously\r\n    setWasooliData({\r\n      date: selectedWasooliCard.date,\r\n      source: selectedWasooliCard.source,\r\n      wasooli: selectedWasooliCard.Wasooli.toString(),\r\n    });\r\n\r\n    setEditingTransaction({\r\n      consumerId: consumerId,\r\n      transactionId: transactionId,\r\n    });\r\n\r\n    setIsWasooliVisible(true);\r\n  };\r\n\r\n\r\n\r\n  const handleManageClick = (consumerId) => {\r\n    setSelectedConsumerId(consumerId);\r\n    setIsWasooliVisible(true);\r\n    setCurrentManaging(consumerId);\r\n    // Reset Wasooli form data\r\n    setWasooliData({ date: '', source: '', Wasooli: '' });\r\n  };\r\n\r\n  const handleWasooliInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setWasooliData({ ...wasooliData, [name]: value });\r\n    setWasooliErrorMessages({ ...wasooliErrorMessages, [name]: '' });\r\n  };\r\n\r\n\r\n  const handleConfirmDeletion = async () => {\r\n    const { consumerId, wasooliId, index } = deleteConfirmationData;\r\n\r\n    if (!wasooliId) {\r\n      console.error(\"Wasooli ID is missing.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Delete the Wasooli transaction\r\n      const deleteResponse = await fetch(`http://localhost:3001/kharchay/${wasooliId}`, { method: 'DELETE' });\r\n\r\n      if (!deleteResponse.ok) {\r\n        const errorData = await deleteResponse.json();\r\n        throw new Error(errorData.message || 'Failed to delete Wasooli transaction.');\r\n      }\r\n\r\n      console.log(\"Wasooli transaction deleted successfully.\");\r\n\r\n      // Re-fetch updated consumer data to refresh local state\r\n      await fetchData();\r\n\r\n      console.log(\"Consumer data refreshed after Wasooli deletion.\");\r\n\r\n      // Reset the delete confirmation data and close the modal\r\n      setDeleteConfirmationData({ consumerId: null, wasooliId: null, index: null });\r\n      setIsConfirmModalVisible(false);\r\n    } catch (error) {\r\n      console.error('Error during Wasooli deletion:', error);\r\n    }\r\n  };\r\n\r\n\r\n  const handleCancelDeletion = () => {\r\n    setIsConfirmModalVisible(false); // Hide the modal\r\n  };\r\n\r\n  const handleDeleteWasooliClick = (consumerId, wasooliId, index) => {\r\n    // Log the parameters to ensure they are being passed correctly\r\n    console.log(`Preparing to delete Wasooli with ID: ${wasooliId}, for Consumer ID: ${consumerId}, at Index: ${index}`);\r\n\r\n\r\n    // Set the deleteConfirmationData with the correct values\r\n    setDeleteConfirmationData({ consumerId, wasooliId, index });\r\n    setIsConfirmModalVisible(true);\r\n  };\r\n\r\n  const AlertModal = ({ isOpen, message, onClose }) => {\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n      <div className=\"alert-modal-overlay\">\r\n        <div className=\"alert-modal\">\r\n          <p>{message}</p>\r\n          <button onClick={onClose}>OK</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const ConfirmationModal = ({ onConfirm, onCancel }) => (\r\n    <div className=\"confirmation-modal-overlay\">\r\n      <div className=\"confirmation-modal\">\r\n        <p>Are you sure you want to delete this kharcha?</p>\r\n        <button className=\"yes-button\" onClick={onConfirm}>Yes</button>\r\n        <button className=\"no-button\" onClick={onCancel}>No</button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const handleSaveWasooliClick = async () => {\r\n    try {\r\n    \r\n\r\n      if (!wasooliData.date) {\r\n        throw new Error(\"Date is required\");\r\n      }\r\n\r\n      if (!wasooliData.source) {\r\n        throw new Error(\"source is required\");\r\n    }\r\n    \r\n    const wasooliAmount = parseInt(wasooliData.wasooli);\r\n    if (isNaN(wasooliAmount) || wasooliAmount <= 0) {\r\n      throw new Error(\"Invalid Kharcha amount\");\r\n    }\r\n      let payload = {\r\n        date: wasooliData.date,\r\n        source: wasooliData.source,\r\n        Wasooli: wasooliAmount,\r\n      };\r\n\r\n      let endpoint = 'http://localhost:3001/kharchay';\r\n      let method = 'POST';\r\n\r\n      // If we're editing an existing transaction, adjust the endpoint and method.\r\n      // Otherwise, ensure the consumer ID is included in the payload for new transactions.\r\n      if (editingTransaction && editingTransaction.transactionId) {\r\n        endpoint += `/${editingTransaction.transactionId}`;\r\n        method = 'PUT';\r\n      } else {\r\n        // For new transactions, include the consumerId in the payload\r\n        if (!selectedConsumerId) {\r\n          throw new Error(\"Consumer ID is missing for new Wasooli transaction\");\r\n        }\r\n        payload = { ...payload, consumerId: selectedConsumerId };\r\n      }\r\n\r\n      const response = await fetch(endpoint, {\r\n        method: method,\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.message || \"Failed to save Wasooli transaction\");\r\n      }\r\n\r\n      console.log(\"Wasooli transaction saved:\", await response.json());\r\n\r\n      setIsWasooliVisible(false);\r\n      setWasooliData({ date: '', source: '', wasooli: '' });\r\n      setEditingTransaction(null);\r\n      await fetchData();\r\n\r\n    } catch (error) {\r\n      console.error(\"Error saving Wasooli transaction:\", error);\r\n      setIsAlertVisible(true);\r\n      setAlertMessage(error.toString());\r\n    }\r\n  };\r\n  const groupTransactionsByDate = (transactions) => {\r\n    const grouped = {};\r\n    transactions.forEach((transaction) => {\r\n      const yearMonth = new Date(transaction.date).toISOString().substring(0, 7); // e.g., \"2024-01\"\r\n      if (!grouped[yearMonth]) {\r\n        grouped[yearMonth] = {\r\n          transactions: [],\r\n          isVisible: false,\r\n        };\r\n      }\r\n      grouped[yearMonth].transactions.push(transaction);\r\n    });\r\n    return grouped;\r\n  };\r\n\r\n\r\n  const toggleMonthVisibility = (consumerId, monthYear) => {\r\n    setMonthVisibility(prevVisibility => ({\r\n      ...prevVisibility,\r\n      [consumerId]: {\r\n        ...prevVisibility[consumerId],\r\n        [monthYear]: !(prevVisibility[consumerId]?.[monthYear] ?? false),\r\n      },\r\n    }));\r\n  };\r\n\r\n  const renderWasooliTransactions = (consumer) => {\r\n    // Group Wasooli transactions by month and year\r\n    const transactionsByMonth = consumer.wasooliTransactions.reduce((acc, transaction) => {\r\n      const monthYear = new Date(transaction.date).toLocaleString('default', { month: 'long', year: 'numeric' });\r\n      if (!acc[monthYear]) {\r\n        acc[monthYear] = [];\r\n      }\r\n      acc[monthYear].push(transaction);\r\n      return acc;\r\n    }, {});\r\n\r\n    return Object.entries(transactionsByMonth).map(([monthYear, transactions]) => {\r\n      const isButtonVisible = monthYearButtonsVisibility[consumer.idEmployeekhata];\r\n      const isDataVisible = monthVisibility[consumer.idEmployeekhata]?.[monthYear] ?? false;\r\n\r\n      return (\r\n        <div key={monthYear}>\r\n          {isButtonVisible && (\r\n            <button className=\"toggle-visibility-button\" onClick={() => toggleMonthVisibility(consumer.idEmployeekhata, monthYear)}>\r\n              {isDataVisible ? translations[language].Hide : translations[language].Show} {monthYear}\r\n            </button>\r\n          )}\r\n          {isDataVisible && transactions.map((transaction, index) => (\r\n            <div className=\"wasooli-card-horizontal\" key={index}>\r\n              <span> {translations[language].date}  {transaction.date}</span>\r\n              <span>  {translations[language].sourceOfKharcha} {transaction.source}</span>\r\n              <span>   {translations[language].kharcha}  {transaction.Wasooli}</span>\r\n              <button className=\"updatee-button\" onClick={() => handleUpdateWasooliClick(consumer.idEmployeekhata, transaction.idkharchay)}>\r\n              {translations[language].update}\r\n              </button>\r\n              <button className=\"deletee-button\" onClick={() => handleDeleteWasooliClick(consumer.idEmployeekhata, transaction.idkharchay)}>\r\n              {translations[language].delete}\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"consumer-khata-container\">\r\n      <h1 className=\"header\"> {translations[language].employeekhata}</h1>\r\n      <button onClick={() => setLanguage(lang => lang === 'English' ? 'Urdu' : 'English')} className=\"language-toggle\">\r\n        {language === 'English' ? 'اردو' : 'English'}\r\n      </button>\r\n      {isConfirmModalVisible && (\r\n        <ConfirmationModal onConfirm={handleConfirmDeletion} onCancel={handleCancelDeletion} />\r\n      )}\r\n      <AlertModal\r\n        isOpen={isAlertVisible}\r\n        message={alertMessage}\r\n        onClose={() => setIsAlertVisible(false)}\r\n      />\r\n      {\r\n        consumers.map((consumer) => (\r\n          <div className=\"consumer-card\" key={consumer.idEmployeekhata}>\r\n            <h2 className=\"consumer-name\">{consumer.name} {translations[language].Khata}</h2>\r\n            <p>{translations[language].date} : {consumer.Date ? consumer.Date : 'No date available'}</p>\r\n\r\n            <p>{translations[language].consumerName} : {consumer.name}</p>\r\n            <p> {translations[language].baqaya} : {consumer.baqaya}</p>\r\n            <div className=\"action-buttons\">\r\n              <button className=\"manage-buttonn\" onClick={() => handleManageClick(consumer.idEmployeekhata)}>\r\n              {translations[language].manage}\r\n              </button>\r\n              <button className=\"add-baqaya-buttonn\" onClick={() => {\r\n                setIsAddBaqayaVisible(true);\r\n                setSelectedConsumerId(consumer.idEmployeekhata); // Ensure this is set when opening the Baqaya add form\r\n              }}>\r\n               {translations[language].addBaqaya}\r\n              </button>\r\n              <button className=\"update-buttonn\" onClick={() => handleUpdateClick(consumer.idEmployeekhata)}>\r\n              {translations[language].update}\r\n              </button>\r\n\r\n              <button className=\"global-toggle-buttonnn\" onClick={() => toggleMonthYearButtonsVisibility(consumer.idEmployeekhata)}>\r\n                {monthYearButtonsVisibility[consumer.idEmployeekhata] ? translations[language].hideAll : translations[language].showAll}\r\n              </button>\r\n\r\n            </div>\r\n            {renderWasooliTransactions(consumer)}\r\n\r\n            {currentManaging === consumer.idEmployeekhata && isWasooliVisible && (\r\n              <div className=\"form-container wasooli-card\">\r\n                <h2> {translations[language].kharcha}</h2>\r\n                <button className=\"close-button\" onClick={() => setIsWasooliVisible(false)}>\r\n                  &#10005;\r\n                </button>\r\n                <span className=\"error-message\">{wasooliErrorMessages.date}</span>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"date\"\r\n                  placeholder= {translations[language].date}\r\n                  value={wasooliData.date || ''}\r\n                  onChange={handleWasooliInputChange}\r\n                />\r\n                <span className=\"error-message\">{wasooliErrorMessages.source}</span>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"source\"\r\n                  placeholder= {translations[language].sourceOfKharcha}\r\n                  value={wasooliData.source || ''}\r\n                  onChange={handleWasooliInputChange}\r\n                />\r\n\r\n                <span className=\"error-message\">{wasooliErrorMessages.wasooli}</span>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"wasooli\"\r\n                  placeholder= {translations[language].kharcha}\r\n                  value={wasooliData.wasooli}\r\n                  onChange={handleWasooliInputChange}\r\n                />\r\n\r\n                <button className=\"save-button\" onClick={(e) => {\r\n                  e.preventDefault();\r\n                  handleSaveWasooliClick();\r\n                }}>\r\n                  {translations[language].saveKharcha}\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {selectedConsumerId === consumer.idEmployeekhata && isAddBaqayaVisible && (\r\n              <div className=\"add-baqaya-card\">\r\n                <button className=\"close-button\" onClick={() => setIsAddBaqayaVisible(false)} >\r\n                  &#10005;\r\n                </button>\r\n                <span className=\"error-message\">{baqayaError}</span>\r\n                <input\r\n                  type=\"number\"\r\n                  placeholder= {translations[language].addMoreEmployeeBaqaya}\r\n                  value={baqayaToAdd}\r\n                  onChange={handleBaqayaInputChange}\r\n                />\r\n\r\n                <button className=\"save-baqaya-button\" onClick={handleSaveBaqayaClick}>\r\n                {translations[language].save}\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n\r\n          </div>\r\n        ))\r\n      }\r\n\r\n      {isFormVisible && (\r\n        <div className=\"form-container\">\r\n          <button className=\"close-button\" onClick={handleCancelClick}>\r\n            &#10005;\r\n          </button>\r\n          <span className=\"error-message\">{errorMessages.date}</span>\r\n          <input\r\n            type=\"date\"\r\n            name=\"date\"\r\n            placeholder=\"Enter Date\"\r\n            value={consumerData.date || ''}\r\n            onChange={handleInputChange}\r\n          />\r\n\r\n          <span className=\"error-message\">{errorMessages.consumerName}</span>\r\n          <input\r\n            type=\"text\"\r\n            name=\"consumerName\"\r\n            placeholder=\"Employee Name\"\r\n            value={consumerData.consumerName}\r\n            onChange={handleInputChange}\r\n          />\r\n\r\n          <span className=\"error-message\">{errorMessages.baqaya}</span>\r\n          <input\r\n            type=\"text\"\r\n            name=\"baqaya\"\r\n            placeholder=\"Employee Baqaya\"\r\n            value={consumerData.baqaya}\r\n            onChange={handleInputChange}\r\n          />\r\n\r\n          <button className=\"save-button\" onClick={handleSaveClick}>\r\n          {translations[language].save}\r\n          </button>\r\n        </div>\r\n      )}\r\n      <button className=\"add-button\" onClick={() => setIsFormVisible(true)}>\r\n      {translations[language].addEmployee}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Employee;"]},"metadata":{},"sourceType":"module"}